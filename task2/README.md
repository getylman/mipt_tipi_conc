В вашей программе есть master thread и N worker threads. У каждого worker'а есть своя очередь входящих задач. Master слушает M дескрипторов (с мультиплексированием), когда на дескрипторе есть данные — читает, формирует задачу и даёт одному из worker'ов.
В качестве дескрипторов берём pipes / named pipes (FIFO) или Unix sockets.
Worker thread выполняет задачи из своей личной очереди, если очередь пустая — "ворует" задачу из очереди другого worker'а.
Выбираем тред для того, чтобы дать задачу, и для воровства вот как: генерируем два случайных номера и смотрим на два треда с этими номерами, берём из этих двух наименее загруженный (для новой задачи) или наиболее загруженный (для воровства).
